# Вакансия :: Программист Python

## Тестовое задание

Решение принимается в виде PR к текущему проекту.

Есть несколько рабочих сервисов, у каждого сервиса есть состояние работает/не работает/работает нестабильно.

Требуется написать API который:

1. Получает и сохраняет данные: имя, состояние, описание
2. Выводит список сервисов с актуальным состоянием
3. По имени сервиса выдает историю изменения состояния и все данные по каждому состоянию

Дополнительным плюсом будет

1. По указанному интервалу выдается информация о том сколько не работал сервис и считать SLA в процентах до 3-й запятой

Вывод всех данных должен быть в формате JSON

## Технологии
- Python
- Django
- Django REST Framework

### СУБД
- PostgreSQL

## Эндпоинты
| HTTP метод | Эндпоинт | Действие |
| --- | --- | --- |
| GET | /api/ | Вывод списка всех сервисов с актуальным состоянием, SLA и даунтаймом |
| POST | /api/ | Добавление сервиса в базу данных |
| GET | /api/details/{slug_name} | Вывод истории изменения состояний сервиса |

## Тесты
Реализованы с помощью pytest и включают в себя следующие:
- Базовые тесты на GET и POST запросы
- Тесты подсчёта SLA и даунтайма

## Документация
[Ссылка](http://127.0.0.1:8000/api/schema/redoc/) на документацию (redoc).

[Ссылка](http://127.0.0.1:8000/api/schema/swagger-ui/) на интерактивную документацию (Swagger UI).

## Индексы БД
Индексированы поля, по которым осуществляется поиск и сортировка - slug_name и created_at.


## Инструкции
1. Клонируйте репозиторий.
2. Скачайте и установите Python версии 3.10 и выше.
3. Создайте виртуальное окружение командой `python -m venv venv`.
4. Активируйте виртуальное окружение командой `.\venv\Scripts\activate` (Windows).
5. Установите все требуемые пакеты, воспользовавшись командой `pip install -r requirements.txt`.
6. Запустите сервер командой `python manage.py runserver`.
7. Откройте [127.0.0.1:8000/api/](http://127.0.0.1:8000/api/) в браузере.
